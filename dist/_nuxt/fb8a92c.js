(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{982:function(e,t,n){"use strict";n.r(t);var r=n(0),o=(n(7),n(706)),m=n.n(o),c={components:{Tinymce:n(735).a},props:{commentData:{type:Object,required:!0}},data:function(){return{loading:!1,commentForm:this.commentData,rules:{content:[{required:!0,message:"Please input content",trigger:"blur"},{min:1,max:3e3,message:"Length should be 10 to 3000",trigger:"blur"}]}}},methods:{contentChange:function(content){this.commentForm.content=content},submitForm:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=4;break}t.$emit("submitForm",t.commentForm),e.next=5;break;case 4:return e.abrupt("return",!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},resetForm:function(e){this.$refs[e].resetFields()}}},l=n(12),d={layout:"admin",components:{CommentForm:Object(l.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-form",{ref:"commentForm",staticClass:"w-full",attrs:{model:e.commentForm,"label-width":"120px",rules:e.rules}},[n("el-form-item",{attrs:{label:"Content",prop:"summary"}},[n("el-col",{attrs:{span:24}},[n("Tinymce",{attrs:{content:e.commentForm.content},on:{contentChange:e.contentChange}})],1)],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("commentForm")}}},[e._v("\n                Lưu\n            ")]),e._v(" "),n("el-button",{on:{click:function(t){return e.resetForm("commentForm")}}},[e._v("\n                Làm mới\n            ")])],1)],1)],1)}),[],!1,null,null,null).exports,PageHeader:n(707).a},asyncData:function(e){return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.params,r=e.store,t.next=3,r.dispatch("admin/comment/show",n.id);case 3:return o=m()(r.state.admin.comment.comment),t.abrupt("return",{comment:o});case 5:case"end":return t.stop()}}),t)})))()},methods:{updateComment:function(form){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("admin/comment/update",{id:e.comment.id,data:form});case 3:e.$router.push("/admin/comment/"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),e.$message({message:"Update error.",type:"error"});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()}}},f=Object(l.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("PageHeader",{attrs:{title:"Author: "+e.comment.author}}),e._v(" "),n("CommentForm",{attrs:{"comment-data":e.comment},on:{submitForm:e.updateComment}})],1)}),[],!1,null,null,null);t.default=f.exports}}]);