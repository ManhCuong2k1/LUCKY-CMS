(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{706:function(e,r,t){var n=t(259);e.exports=function(e){return n(e,5)}},707:function(e,r,t){"use strict";var n={props:{title:{type:String,require:!0},activeName:{type:String,require:!0}},methods:{goBack:function(){this.$router.go(-1)}}},l=t(12),component=Object(l.a)(n,(function(){var e=this,r=e.$createElement;return(e._self._c||r)("el-page-header",{staticClass:"mb-5",attrs:{content:e.title},on:{back:e.goBack}})}),[],!1,null,null,null);r.a=component.exports},986:function(e,r,t){"use strict";t.r(r);var n=t(0),l=(t(7),t(706)),o=t.n(l),m={props:{userData:{type:Object,required:!0}},data:function(){return{userForm:this.userData,rules:{last_name:[{min:3,max:30,message:"Length should be 3 to 30",trigger:"blur"}],first_name:[{required:!0,message:"Please input name",trigger:"blur"},{min:3,max:30,message:"Length should be 3 to 30",trigger:"blur"}],email:[{required:!0,message:"Please input email",trigger:"blur"},{type:"email",message:"Please input correct email address",trigger:["blur","change"]}]}}},methods:{submitForm:function(e){var r=this;this.$refs[e].validate((function(e){if(!e)return!1;r.$emit("submitForm",r.userForm)}))},resetForm:function(e){this.$refs[e].resetFields()}}},c=t(12),d={layout:"admin",components:{UserForm:Object(c.a)(m,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("el-form",{ref:"userForm",staticClass:"w-2/3",attrs:{model:e.userForm,"label-width":"120px",rules:e.rules}},[t("el-form-item",{attrs:{label:"Tên đăng nhập",prop:"username"}},[t("el-col",{attrs:{span:12}},[t("el-input",{attrs:{placeholder:"Username",disabled:""},model:{value:e.userForm.username,callback:function(r){e.$set(e.userForm,"username",r)},expression:"userForm.username"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"Họ",prop:"last_name"}},[t("el-col",{attrs:{span:12}},[t("el-input",{attrs:{placeholder:"Họ"},model:{value:e.userForm.last_name,callback:function(r){e.$set(e.userForm,"last_name",r)},expression:"userForm.last_name"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"Tên",prop:"first_name"}},[t("el-col",{attrs:{span:12}},[t("el-input",{attrs:{placeholder:"Tên đệm & Tên"},model:{value:e.userForm.first_name,callback:function(r){e.$set(e.userForm,"first_name",r)},expression:"userForm.first_name"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"Email",prop:"email"}},[t("el-col",{attrs:{span:12}},[t("el-input",{attrs:{placeholder:"Email"},model:{value:e.userForm.email,callback:function(r){e.$set(e.userForm,"email",r)},expression:"userForm.email"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"Phone",prop:"phone"}},[t("el-col",{attrs:{span:12}},[t("el-input",{attrs:{placeholder:"Phone"},model:{value:e.userForm.phone,callback:function(r){e.$set(e.userForm,"phone",r)},expression:"userForm.phone"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"Ngày sinh",prop:"birthday"}},[t("el-col",{attrs:{span:6}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"Pick a date"},model:{value:e.userForm.birthday,callback:function(r){e.$set(e.userForm,"birthday",r)},expression:"userForm.birthday"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"Giới tính",prop:"gender"}},[t("el-col",{attrs:{span:6}},[t("el-select",{attrs:{placeholder:"Gender"},model:{value:e.userForm.gender,callback:function(r){e.$set(e.userForm,"gender",r)},expression:"userForm.gender"}},[t("el-option",{attrs:{label:"Nam",value:"male"}}),e._v(" "),t("el-option",{attrs:{label:"Nữ",value:"female"}}),e._v(" "),t("el-option",{attrs:{label:"Khác",value:"other"}})],1)],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"Trạng thái",prop:"is_block"}},[t("el-col",{attrs:{span:6}},[t("el-switch",{model:{value:e.userForm.is_active,callback:function(r){e.$set(e.userForm,"is_active",r)},expression:"userForm.is_active"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"Admin",prop:"is_admin"}},[t("el-col",{attrs:{span:6}},[t("el-switch",{model:{value:e.userForm.is_admin,callback:function(r){e.$set(e.userForm,"is_admin",r)},expression:"userForm.is_admin"}})],1)],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("userForm")}}},[e._v("\n                Lưu\n            ")]),e._v(" "),t("el-button",{on:{click:function(r){return e.resetForm("userForm")}}},[e._v("\n                Làm mới\n            ")])],1)],1)],1)}),[],!1,null,null,null).exports,PageHeader:t(707).a},asyncData:function(e){return Object(n.a)(regeneratorRuntime.mark((function r(){var t,n,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.params,n=e.store,r.next=3,n.dispatch("admin/user/show",t.username);case 3:return(l=o()(n.state.admin.user.user)).is_active=null===l.deleted_at,l.is_admin=1===l.is_admin,r.abrupt("return",{user:l});case 7:case"end":return r.stop()}}),r)})))()},methods:{updateUser:function(form){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.$store.dispatch("admin/user/update",{id:e.user.id,data:form});case 3:e.$router.push("/admin/user/"),r.next=9;break;case 6:r.prev=6,r.t0=r.catch(0),e.$message({message:"Update error.",type:"error"});case 9:case"end":return r.stop()}}),r,null,[[0,6]])})))()}}},f=Object(c.a)(d,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("PageHeader",{attrs:{title:e.user.username}}),e._v(" "),t("UserForm",{attrs:{"user-data":e.user},on:{submitForm:e.updateUser}})],1)}),[],!1,null,null,null);r.default=f.exports}}]);