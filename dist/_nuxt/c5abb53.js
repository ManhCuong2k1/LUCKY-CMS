(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{738:function(t,e,r){"use strict";var n={props:{status:{type:String,default:"created"}}},l=r(12),component=Object(l.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",["created"==t.status?r("el-tag",{staticClass:"ml-2",attrs:{effect:"created"==t.status?"dark":"plain"}},[t._v("\n        Mới tạo\n    ")]):t._e(),t._v(" "),"processing"==t.status?r("el-tag",{staticClass:"ml-2",attrs:{effect:"processing"==t.status?"dark":"plain"}},[t._v("\n        Đang xử lý\n    ")]):t._e(),t._v(" "),"shipping"==t.status?r("el-tag",{staticClass:"ml-2",attrs:{effect:"shipping"==t.status?"dark":"plain"}},[t._v("\n        Đang vận chuyển\n    ")]):t._e(),t._v(" "),"success"==t.status?r("el-tag",{staticClass:"ml-2",attrs:{type:"success",effect:"success"==t.status?"dark":"plain"}},[t._v("\n        Hoàn thành\n    ")]):t._e(),t._v(" "),"canceled"==t.status?r("el-tag",{staticClass:"ml-2",attrs:{type:"danger",effect:"canceled"==t.status?"dark":"plain"}},[t._v("\n        Hủy đơn\n    ")]):t._e()],1)}),[],!1,null,null,null);e.a=component.exports},896:function(t,e,r){var map={"./af":743,"./af.js":743,"./ar":744,"./ar-dz":745,"./ar-dz.js":745,"./ar-kw":746,"./ar-kw.js":746,"./ar-ly":747,"./ar-ly.js":747,"./ar-ma":748,"./ar-ma.js":748,"./ar-sa":749,"./ar-sa.js":749,"./ar-tn":750,"./ar-tn.js":750,"./ar.js":744,"./az":751,"./az.js":751,"./be":752,"./be.js":752,"./bg":753,"./bg.js":753,"./bm":754,"./bm.js":754,"./bn":755,"./bn-bd":756,"./bn-bd.js":756,"./bn.js":755,"./bo":757,"./bo.js":757,"./br":758,"./br.js":758,"./bs":759,"./bs.js":759,"./ca":760,"./ca.js":760,"./cs":761,"./cs.js":761,"./cv":762,"./cv.js":762,"./cy":763,"./cy.js":763,"./da":764,"./da.js":764,"./de":765,"./de-at":766,"./de-at.js":766,"./de-ch":767,"./de-ch.js":767,"./de.js":765,"./dv":768,"./dv.js":768,"./el":769,"./el.js":769,"./en-au":770,"./en-au.js":770,"./en-ca":771,"./en-ca.js":771,"./en-gb":772,"./en-gb.js":772,"./en-ie":773,"./en-ie.js":773,"./en-il":774,"./en-il.js":774,"./en-in":775,"./en-in.js":775,"./en-nz":776,"./en-nz.js":776,"./en-sg":777,"./en-sg.js":777,"./eo":778,"./eo.js":778,"./es":779,"./es-do":780,"./es-do.js":780,"./es-mx":781,"./es-mx.js":781,"./es-us":782,"./es-us.js":782,"./es.js":779,"./et":783,"./et.js":783,"./eu":784,"./eu.js":784,"./fa":785,"./fa.js":785,"./fi":786,"./fi.js":786,"./fil":787,"./fil.js":787,"./fo":788,"./fo.js":788,"./fr":789,"./fr-ca":790,"./fr-ca.js":790,"./fr-ch":791,"./fr-ch.js":791,"./fr.js":789,"./fy":792,"./fy.js":792,"./ga":793,"./ga.js":793,"./gd":794,"./gd.js":794,"./gl":795,"./gl.js":795,"./gom-deva":796,"./gom-deva.js":796,"./gom-latn":797,"./gom-latn.js":797,"./gu":798,"./gu.js":798,"./he":799,"./he.js":799,"./hi":800,"./hi.js":800,"./hr":801,"./hr.js":801,"./hu":802,"./hu.js":802,"./hy-am":803,"./hy-am.js":803,"./id":804,"./id.js":804,"./is":805,"./is.js":805,"./it":806,"./it-ch":807,"./it-ch.js":807,"./it.js":806,"./ja":808,"./ja.js":808,"./jv":809,"./jv.js":809,"./ka":810,"./ka.js":810,"./kk":811,"./kk.js":811,"./km":812,"./km.js":812,"./kn":813,"./kn.js":813,"./ko":814,"./ko.js":814,"./ku":815,"./ku.js":815,"./ky":816,"./ky.js":816,"./lb":817,"./lb.js":817,"./lo":818,"./lo.js":818,"./lt":819,"./lt.js":819,"./lv":820,"./lv.js":820,"./me":821,"./me.js":821,"./mi":822,"./mi.js":822,"./mk":823,"./mk.js":823,"./ml":824,"./ml.js":824,"./mn":825,"./mn.js":825,"./mr":826,"./mr.js":826,"./ms":827,"./ms-my":828,"./ms-my.js":828,"./ms.js":827,"./mt":829,"./mt.js":829,"./my":830,"./my.js":830,"./nb":831,"./nb.js":831,"./ne":832,"./ne.js":832,"./nl":833,"./nl-be":834,"./nl-be.js":834,"./nl.js":833,"./nn":835,"./nn.js":835,"./oc-lnc":836,"./oc-lnc.js":836,"./pa-in":837,"./pa-in.js":837,"./pl":838,"./pl.js":838,"./pt":839,"./pt-br":840,"./pt-br.js":840,"./pt.js":839,"./ro":841,"./ro.js":841,"./ru":842,"./ru.js":842,"./sd":843,"./sd.js":843,"./se":844,"./se.js":844,"./si":845,"./si.js":845,"./sk":846,"./sk.js":846,"./sl":847,"./sl.js":847,"./sq":848,"./sq.js":848,"./sr":849,"./sr-cyrl":850,"./sr-cyrl.js":850,"./sr.js":849,"./ss":851,"./ss.js":851,"./sv":852,"./sv.js":852,"./sw":853,"./sw.js":853,"./ta":854,"./ta.js":854,"./te":855,"./te.js":855,"./tet":856,"./tet.js":856,"./tg":857,"./tg.js":857,"./th":858,"./th.js":858,"./tk":859,"./tk.js":859,"./tl-ph":860,"./tl-ph.js":860,"./tlh":861,"./tlh.js":861,"./tr":862,"./tr.js":862,"./tzl":863,"./tzl.js":863,"./tzm":864,"./tzm-latn":865,"./tzm-latn.js":865,"./tzm.js":864,"./ug-cn":866,"./ug-cn.js":866,"./uk":867,"./uk.js":867,"./ur":868,"./ur.js":868,"./uz":869,"./uz-latn":870,"./uz-latn.js":870,"./uz.js":869,"./vi":871,"./vi.js":871,"./x-pseudo":872,"./x-pseudo.js":872,"./yo":873,"./yo.js":873,"./zh-cn":874,"./zh-cn.js":874,"./zh-hk":875,"./zh-hk.js":875,"./zh-mo":876,"./zh-mo.js":876,"./zh-tw":877,"./zh-tw.js":877};function n(t){var e=l(t);return r(e)}function l(t){if(!r.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}n.keys=function(){return Object.keys(map)},n.resolve=l,t.exports=n,n.id=896},960:function(t,e,r){"use strict";r.r(e);var n=r(0),l=(r(7),r(70),r(705)),o=r.n(l),d=(r(404),{props:{icon:{type:Array,require:!1,default:function(){return["fas","shopping-cart"]}},color:{type:String,require:!1,default:"text-green-400"},title:{type:String,require:!1,default:"Tiêu đề"},value:{type:Number,require:!1,default:1e6}}}),c=r(12),m=Object(c.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"bg-white w-full mb-3 md:mb-0 md:w-1/4 mx-5 p-7 flex justify-between shadow-lg"},[r("div",{staticClass:"flex flex-row flex-wrap place-items-center"},[r("div",[r("font-awesome-icon",{class:"el-icon-shopping-cart-full md:text-5xl text-3xl "+t.color,attrs:{icon:t.icon}})],1)]),t._v(" "),r("div",{staticClass:"text-right"},[r("div",{staticClass:"font-bold text-lg text-gray-400"},[t._v("\n            "+t._s(t.title)+"\n        ")]),t._v(" "),r("div",{staticClass:"font-bold text-2xl text-gray-600"},[t._v("\n            "+t._s(t._f("formatNumber")(t.value))+"\n        ")])])])}),[],!1,null,null,null).exports,f={components:{LineChart:{extends:r(958).a,props:["data","options"],mounted:function(){this.renderChart(this.data,this.options)}}},props:{labels:{type:Array},amountOrderByDay:{type:Array},sumOrderByDay:{type:Array}},data:function(){return{chartData:{labels:this.labels,datasets:[{label:"Doanh thu",yAxisID:"A",borderColor:"red",tension:0,backgroundColor:"transparent",data:this.sumOrderByDay},{label:"Đơn hàng",yAxisID:"B",borderColor:"skyblue",tension:0,backgroundColor:"transparent",data:this.amountOrderByDay}]},chartOptions:{scales:{yAxes:[{id:"A",type:"linear",position:"left",ticks:{callback:function(label){return label.toLocaleString()},precision:0}},{id:"B",type:"linear",position:"right",ticks:{precision:0}}]},tooltips:{callbacks:{label:function(t){return t.yLabel.toLocaleString()}}}}}},methods:{getRandomInt:function(){return Math.floor(46*Math.random())+5}}},j=Object(c.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("LineChart",{attrs:{data:t.chartData,options:t.chartOptions,height:100}})],1)}),[],!1,null,null,null).exports,h={components:{StatusTag:r(738).a},props:{tableData:{type:Array}}},y=Object(c.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t._m(0),t._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""}},[r("el-table-column",{attrs:{prop:"date",label:"Ngày đặt",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(t._f("formatDate")(e.row.createdAt))+"\n            ")]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"name",label:"Người tạo",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.Admin?r("span",[t._v("\n                    "+t._s(e.row.Admin.name)+"\n                ")]):r("span",[t._v("\n                    "+t._s(e.row.PointOfSale.name)+"\n                ")])]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"address",label:"Khu vực"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.Admin?r("span",[t._v("\n                    "+t._s(e.row.Admin.City.name)+"\n                ")]):r("span",[t._v("\n                    "+t._s(e.row.PointOfSale.City.name)+"\n                ")])]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"status",label:"Trạng thái"},scopedSlots:t._u([{key:"default",fn:function(t){return[r("status-tag",{attrs:{status:t.row.status}})]}}])})],1)],1)}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("span",{staticClass:"font-bold text-gray-600 text-lg"},[t._v("Đơn hàng mới nhất")])])}],!1,null,null,null).exports,v={props:{tableData:{type:Array}}},_=Object(c.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t._m(0),t._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""}},[r("el-table-column",{attrs:{prop:"name",label:"NPP",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(e.row.Admin.name)+"\n            ")]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"address",label:"Khu vực"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(e.row.Admin.City.name)+"\n            ")]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"date",label:"Doanh thu",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(t._f("formatNumber")(parseInt(e.row.sum)))+"\n            ")]}}])})],1)],1)}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("span",{staticClass:"font-bold text-gray-600 text-lg"},[t._v("Top nhà phân phối")])])}],!1,null,null,null).exports,w={props:{tableData:{type:Array}}},x={layout:"admin",components:{BoxNumber:m,OrderProducerChart:j,NewOrderProduce:y,TopDistributor:_,TopPointOfSale:Object(c.a)(w,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t._m(0),t._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""}},[r("el-table-column",{attrs:{prop:"name",label:"Điểm bán",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(e.row.PointOfSale.name)+"\n            ")]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"address",label:"Khu vực"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(e.row.PointOfSale.City.name)+"\n            ")]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"date",label:"Doanh thu",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(t._f("formatNumber")(parseInt(e.row.sum)))+"\n            ")]}}])})],1)],1)}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("span",{staticClass:"font-bold text-gray-600 text-lg"},[t._v("Top điểm bán")])])}],!1,null,null,null).exports},asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var r,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$axios,e.next=3,r.$get("/admin/dashboard");case 3:return data=e.sent,e.abrupt("return",{weekOrderAmount:parseInt(data.weekOrderAmount[0].total_amount,10)||0,yesterdayOrderAmount:parseInt(data.yesterdayOrderAmount[0].total_amount,10)||0,todayOrderAmount:parseInt(data.todayOrderAmount[0].total_amount,10)||0,monthOrderAmount:parseInt(data.monthOrderAmount[0].total_amount,10)||0,totalPointOfSale:parseInt(data.totalPointOfSale,10)||0,totalDistributor:parseInt(data.totalDistributor,10)||0,totalNewPointOfSale:parseInt(data.totalNewPointOfSale,10)||0,totalNewDistributor:parseInt(data.totalNewDistributor,10)||0,labels:data.amountOrderByDay.map((function(i){return o()(i.formatCreatedAt,"YYYYMMDD").format("DD-MM")})),amountOrderByDay:data.amountOrderByDay.map((function(i){return i.count})),sumOrderByDay:data.sumOrderByDay.map((function(i){return i.total})),newOrder:data.newOrder,topSeller:data.topSeller,totalOrderShipping:data.totalOrderShipping,totalOrderProducer:data.totalOrderProducer});case 5:case"end":return e.stop()}}),e)})))()},computed:{userLoged:function(){return this.$store.state.auth.user}}},O=Object(c.a)(x,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"bg-gray-100 min-h-screen p-5 -m-5"},[r("div",{staticClass:"flex flex-wrap md:flex-nowrap md:mb-5"},[r("BoxNumber",{attrs:{icon:["fas","dollar-sign"],color:"text-green-400",title:"Doanh thu hôm nay",value:t.todayOrderAmount}}),t._v(" "),r("BoxNumber",{attrs:{icon:["fas","dollar-sign"],color:"text-blue-400",title:"Doanh thu hôm qua",value:t.yesterdayOrderAmount}}),t._v(" "),r("BoxNumber",{attrs:{icon:["fas","dollar-sign"],color:"text-red-400",title:"Doanh thu tuần này",value:t.weekOrderAmount}}),t._v(" "),r("BoxNumber",{attrs:{icon:["fas","dollar-sign"],color:"text-yellow-400",title:"Doanh thu tháng này",value:t.monthOrderAmount}})],1),t._v(" "),r("div",{staticClass:"flex flex-wrap md:flex-nowrap"},[r("BoxNumber",{attrs:{icon:["fas","home"],color:"text-green-400",title:"Điểm bán",value:t.totalPointOfSale}}),t._v(" "),"admin"==t.userLoged.type?r("BoxNumber",{attrs:{icon:["fas","warehouse"],color:"text-gray-400",title:"Nhà phân phối",value:t.totalDistributor}}):t._e(),t._v(" "),r("BoxNumber",{attrs:{icon:["fas","home"],color:"text-red-400",title:"Điểm bán mới",value:t.totalNewPointOfSale}}),t._v(" "),"admin"==t.userLoged.type?r("BoxNumber",{attrs:{icon:["fas","warehouse"],color:"text-red-400",title:"Nhà phân phối mới",value:t.totalNewDistributor}}):t._e(),t._v(" "),"distributor"==t.userLoged.type?r("BoxNumber",{attrs:{icon:["fas","shopping-cart"],color:"text-red-400",title:"Đơn đang chuyển điểm bán",value:t.totalOrderShipping}}):t._e(),t._v(" "),"distributor"==t.userLoged.type?r("BoxNumber",{attrs:{icon:["fas","cogs"],color:"text-red-400",title:"Đơn đang sản xuất",value:t.totalOrderProducer}}):t._e()],1),t._v(" "),r("div",{staticClass:"flex flex-wrap md:flex-nowrap w-full mt-5 md:mt-10"},[r("div",{staticClass:"bg-white w-full md:mx-5 md:p-7 shadow-lg"},[r("OrderProducerChart",{attrs:{labels:t.labels,"amount-order-by-day":t.amountOrderByDay,"sum-order-by-day":t.sumOrderByDay}})],1)]),t._v(" "),r("div",{staticClass:"flex flex-wrap md:flex-nowrap w-full mt-5 md:mt-10"},[r("div",{staticClass:"w-full md:w-1/2 bg-white md:mx-5 md:p-7 p-3 mb-5 md:mb-0 shadow-lg"},[r("NewOrderProduce",{attrs:{"table-data":t.newOrder}})],1),t._v(" "),r("div",{staticClass:"w-full md:w-1/2 bg-white md:mx-5 md:p-7 p-3 shadow-lg"},["admin"==t.userLoged.type?r("TopDistributor",{attrs:{"table-data":t.topSeller}}):t._e(),t._v(" "),"distributor"==t.userLoged.type?r("TopPointOfSale",{attrs:{"table-data":t.topSeller}}):t._e()],1)])])}),[],!1,null,null,null);e.default=O.exports}}]);